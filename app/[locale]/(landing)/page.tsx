import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { Container } from "@/components/ui/container";
import { Grid } from "@/components/ui/grid";
import {
  InputGroup,
  InputGroupAddon,
  InputGroupInput,
} from "@/components/ui/input-group";
import { cn } from "@/lib/utils";
import { getScopedI18n, getStaticParams } from "@/locales/server";
import { IconInfoCircle, IconSend } from "@tabler/icons-react";
import { setStaticParamsLocale } from "next-international/server";

export function generateStaticParams() {
  return getStaticParams();
}

const ASCII = `
                                                                                   ------
                                                                               -------==--
       =-----------                                                         -----==++++++---
   ==--------------------                                                =----=++++++++++++--+
 ====--------------------::::::-                                       ----=++++++++++++++++=--+
======-------------------::::::::::                                  ----++++=-----=++++++++++---
=======-------------------::::::::::::                            ----=+++=----------=+++++++++=--=
 =======-------------------:::::::::::::                        ----=+++=--------------=+++++++++---
   +======------------------::::::::::::::-                   =---=+++=----=-----------------+++++=---
      =====------------------:::::::::::::::                ----++++=---==--------------------=+++++=--=
            ===----------------:::::::::::::::             ---++++=---=+--------+=--------------=+++++---
             ===-----------------::::::::::::::          ---=+++=---==-------==---=+=-------------=++++=---
            ====--------------------::::::::::::       ---=+++=---=+-------==---+=------------------+++++---
            ======--------------------::::::::::-    =--=+*+=----+=------=+---==----------------------++++=---
             ========---------------------::::::: +++==+**+----==-------=---==--======-----------------=++++=--=
               +=======------------------------:-+====+++=---=+-------+=--==--===***+==------------------+++++---
                   +======---------------------=========+=-----------=--==----==**++++==---------------=+++++++=---
                       ======-----------------+===========+=-----------=------==-+++++=----------------++++++++++=--=
                      ==========------------=+=============+=--==---------------=+++=------------==----+++++++++++=---
                      +============--------==================++=-------------------------------==-------++++++++++++=---
                        ++============---=+====================+=----------------------------==----------=++++++++=---*@
                                 +++    =+=======================+++==---------------------==-----------+++++++=--=*#%@@
                                       ++==========================+***+=----------------------------=+++++++--=###****
                                      ++============================++***+=------------+=----------=++++++=-=*###*******#
                                     ++===============================++**++=--------=-----------++++++=--*###*******#%@@
                                    =-=++===============================++**++------------=---=++++++--+###*******#%##%
                                   --+**++================================++*++---------=+++++++++=-=*###******#%####***
                                +--=***=--++================================+*+++++++==+++++++++=-+###******#%####*****
                              =--=***=---+=-=+===============================+++++++++++++++++-=*###*****##%####*****
                            =--=***+---++----=+================================+++++++++++++-=###******%%####****
                         ----=***+---=+------+*++================================++*++++++-=###*****#%#####****
                      =----+***=---=+------------=+================================+++++==###*****#%####****
                  =-----=***+=----+---------------+*+===============================++==*##*****%%####***
             =------=+****=----+=-----------------=***+==============================+**#****#%#####***
   ===---------==+*****=----=+=---=--=*####=-------=***++==========================++++++**#%####***
   #=--=++++********=------=----+##**###**=----------+***++======================++++===++*####***
   @@*---+*********+------------+*#*##=---------------+****+===================++++=======++***
    @@%+--=*********+----------+##*###*=----------------+****+===============+++++=========++**
   #**##*=-=+*********=-------=##*-=*###*=---------------=*****+============++++==--------------
   @%#*###+--=*********+------=##*---=*###+-=+*#####*=-----=****++========+++++==--------------------
    @@%**##*=-=********+-------*###=---+########*#####=-----+*****++=====+++++====-----------::::::----
    %%%%#*###+--+******=--------+############+-----*##*-----=*******++=+++++=======---------:::::::::::--
    #######*##*=-=*****=----------=++*++==+###*-----*#*-----=********++*+++=========---------:::::::::::----
      ####%#**##*--+****+-------------------*###+---*#+-----=*******+=**+++=====++++==---------::::::::::::--
       #####%#*###=-=*****=------------------=###*=+##=----=+*****+=+#***+++++++++*  ==---------:::::::::::----
        #####%#**##*=-+****+-------------------+#####=----+******==*#****#*+++++*    ==-----------::::::::::---
          #####%#*###=-=*****=---------=*##===+#####*----=*****+-=#****###*****      ===------------:::::::::---
           #####%#**##*=-+****=---------+*#####*=-++=----+***+==*#****##****         ===---------------::::::-----
             #####%#*###=-=*****=---------------------=*****=-*#***+##****          +====-------------------------
               ####%#**##*==+****=-----------------=+****+=-+#***+*##****           ======-------------------------
                #####%#*###=-+*****=****+=-------=*****+--*#***++##****             ++======-----------------------
                  ####%#**##*==************+--=+*****=-=*#***++*##****               ++======----------------------
                   #####%#*###=-+****************+=--+##***++*##****                  +++++====--------------------=
                     ####%#**##*==************+=-=+###***++*##*****                       +======-------------------
                      #####%#*###+-+*****+==-=+*###****++*##*****                         ++=======----------------=
                        ####%#**###=-----=*####******++###****+                           +++========-------------==
                         #####%#*##########*******+**##******+                            *++++=========---------===
                           ####%#***##***********####****++*                               ++++++===========--======
                            #####%#***********####*****++                                    ++++++================
                              ######**########*******++                                         *++++=============+
                               ###########*********+                                            ++++++===========+
                                 ####************                                              *++++++++++====++++
                                   *********                                                    ++++++++++++++++
                                                                                                +++++++++++++++
                                                                                                 ++++++++++++
                                                                                                  ++++++++*
`;

export default async function Page({
  params,
}: {
  params: Promise<{ locale: string }>;
}) {
  const { locale } = await params;
  setStaticParamsLocale(locale);
  const t = await getScopedI18n("landing");
  const isArabic = locale === "ar";

  return (
    <Container className="h-screen w-screen flex flex-col items-center justify-center">
      <div className="absolute -z-10 inset-0 isolate overflow-hidden bg-background">
        {/* Grid */}
        <div
          className={cn(
            "absolute inset-y-0 left-1/2 w-[1200px] -translate-x-1/2",
            "mask-intersect mask-[linear-gradient(black,transparent_320px),linear-gradient(90deg,transparent,black_5%,black_95%,transparent)]"
          )}
        >
          <Grid
            cellSize={60}
            patternOffset={[0.75, 0]}
            className="text-neutral-200"
          />
        </div>

        {/* Gradient */}
        {[...Array(2)].map((_, idx) => (
          <div
            key={idx}
            className={cn(
              "absolute left-1/2 top-6 size-[80px] -translate-x-1/2 -translate-y-1/2 scale-x-[1.6]",
              idx === 0 ? "mix-blend-overlay" : "opacity-10"
            )}
          >
            {[...Array(idx === 0 ? 2 : 1)].map((_, idx) => (
              <div
                key={idx}
                className={cn(
                  "absolute -inset-16 mix-blend-overlay blur-[50px] saturate-[2]",
                  "bg-[conic-gradient(from_90deg,#F00_5deg,#EAB308_63deg,#5CFF80_115deg,#1E00FF_170deg,#855AFC_220deg,#3A8BFD_286deg,#F00_360deg)]"
                )}
              />
            ))}
          </div>
        ))}
      </div>

      {/* Hero Content */}
      <div
        className={cn(
          "flex flex-col items-center justify-center text-center pb-48 px-4 max-w-3xl mx-auto space-y-4",
          isArabic && "max-w-4xl"
        )}
      >
        <Badge>
          <IconInfoCircle />
          {t("badge")}
        </Badge>

        {/* Headline */}
        <h1 className={cn("leading-18", isArabic && "leading-20")}>
          {t("headline.prefix")}{" "}
          <span className="capitalize px-1 text-primary-foreground bg-primary rounded-md">
            {t("headline.highlight")}
          </span>{" "}
          {t("headline.suffix")}
        </h1>

        {/* Sub-headline */}
        <p className="text-pretty">{t("subheadline")}</p>

        {/* Who It's For */}
        <p className={"text-sm text-muted-foreground italic max-w-md"}>
          {t("whoItsFor")}
        </p>

        {/* Call to Action */}
        <div className="flex flex-col items-center gap-3 max-w-2xl w-full mt-4">
          <InputGroup className="bg-background h-14 ps-4  w-full">
            <InputGroupInput placeholder={t("cta.placeholder")} />
            <InputGroupAddon align="inline-end">
              <Button size="lg" className="h-12 px-4">
                {t("cta.button")}
                <IconSend />
              </Button>
            </InputGroupAddon>
          </InputGroup>
          <span className="text-sm text-muted-foreground  max-w-lg">
            {t("cta.hint")}
          </span>
        </div>
      </div>
      <pre
        className={cn(
          "select-none -z-10 absolute top-1/2 -translate-y-1/2 right-1/5 whitespace-pre mt-12 text-[4px] text-primary overflow-x-auto",
          isArabic && "right-auto left-1/5"
        )}
      >
        {ASCII}
      </pre>
    </Container>
  );
}
