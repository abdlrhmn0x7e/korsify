import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { Container } from "@/components/ui/container";
import {
  InputGroup,
  InputGroupAddon,
  InputGroupInput,
} from "@/components/ui/input-group";
import { TopGrid } from "@/components/top-grid";
import { cn } from "@/lib/utils";
import { getScopedI18n, getStaticParams } from "@/locales/server";
import { IconInfoCircle, IconSend } from "@tabler/icons-react";
import { setStaticParamsLocale } from "next-international/server";

export function generateStaticParams() {
  return getStaticParams();
}

const ASCII = `
                                                                                   ------
                                                                               -------==--
       =-----------                                                         -----==++++++---
   ==--------------------                                                =----=++++++++++++--+
 ====--------------------::::::-                                       ----=++++++++++++++++=--+
======-------------------::::::::::                                  ----++++=-----=++++++++++---
=======-------------------::::::::::::                            ----=+++=----------=+++++++++=--=
 =======-------------------:::::::::::::                        ----=+++=--------------=+++++++++---
   +======------------------::::::::::::::-                   =---=+++=----=-----------------+++++=---
      =====------------------:::::::::::::::                ----++++=---==--------------------=+++++=--=
            ===----------------:::::::::::::::             ---++++=---=+--------+=--------------=+++++---
             ===-----------------::::::::::::::          ---=+++=---==-------==---=+=-------------=++++=---
            ====--------------------::::::::::::       ---=+++=---=+-------==---+=------------------+++++---
            ======--------------------::::::::::-    =--=+*+=----+=------=+---==----------------------++++=---
             ========---------------------::::::: +++==+**+----==-------=---==--======-----------------=++++=--=
               +=======------------------------:-+====+++=---=+-------+=--==--===***+==------------------+++++---
                   +======---------------------=========+=-----------=--==----==**++++==---------------=+++++++=---
                       ======-----------------+===========+=-----------=------==-+++++=----------------++++++++++=--=
                      ==========------------=+=============+=--==---------------=+++=------------==----+++++++++++=---
                      +============--------==================++=-------------------------------==-------++++++++++++=---
                        ++============---=+====================+=----------------------------==----------=++++++++=---*@
                                 +++    =+=======================+++==---------------------==-----------+++++++=--=*#%@@
                                       ++==========================+***+=----------------------------=+++++++--=###****
                                      ++============================++***+=------------+=----------=++++++=-=*###*******#
                                     ++===============================++**++=--------=-----------++++++=--*###*******#%@@
                                    =-=++===============================++**++------------=---=++++++--+###*******#%##%
                                   --+**++================================++*++---------=+++++++++=-=*###******#%####***
                                +--=***=--++================================+*+++++++==+++++++++=-+###******#%####*****
                              =--=***=---+=-=+===============================+++++++++++++++++-=*###*****##%####*****
                            =--=***+---++----=+================================+++++++++++++-=###******%%####****
                         ----=***+---=+------+*++================================++*++++++-=###*****#%#####****
                      =----+***=---=+------------=+================================+++++==###*****#%####****
                  =-----=***+=----+---------------+*+===============================++==*##*****%%####***
             =------=+****=----+=-----------------=***+==============================+**#****#%#####***
   ===---------==+*****=----=+=---=--=*####=-------=***++==========================++++++**#%####***
   #=--=++++********=------=----+##**###**=----------+***++======================++++===++*####***
   @@*---+*********+------------+*#*##=---------------+****+===================++++=======++***
    @@%+--=*********+----------+##*###*=----------------+****+===============+++++=========++**
   #**##*=-=+*********=-------=##*-=*###*=---------------=*****+============++++==--------------
   @%#*###+--=*********+------=##*---=*###+-=+*#####*=-----=****++========+++++==--------------------
    @@%**##*=-=********+-------*###=---+########*#####=-----+*****++=====+++++====-----------::::::----
    %%%%#*###+--+******=--------+############+-----*##*-----=*******++=+++++=======---------:::::::::::--
    #######*##*=-=*****=----------=++*++==+###*-----*#*-----=********++*+++=========---------:::::::::::----
      ####%#**##*--+****+-------------------*###+---*#+-----=*******+=**+++=====++++==---------::::::::::::--
       #####%#*###=-=*****=------------------=###*=+##=----=+*****+=+#***+++++++++*  ==---------:::::::::::----
        #####%#**##*=-+****+-------------------+#####=----+******==*#****#*+++++*    ==-----------::::::::::---
          #####%#*###=-=*****=---------=*##===+#####*----=*****+-=#****###*****      ===------------:::::::::---
           #####%#**##*=-+****=---------+*#####*=-++=----+***+==*#****##****         ===---------------::::::-----
             #####%#*###=-=*****=---------------------=*****=-*#***+##****          +====-------------------------
               ####%#**##*==+****=-----------------=+****+=-+#***+*##****           ======-------------------------
                #####%#*###=-+*****=****+=-------=*****+--*#***++##****             ++======-----------------------
                  ####%#**##*==************+--=+*****=-=*#***++*##****               ++======----------------------
                   #####%#*###=-+****************+=--+##***++*##****                  +++++====--------------------=
                     ####%#**##*==************+=-=+###***++*##*****                       +======-------------------
                      #####%#*###+-+*****+==-=+*###****++*##*****                         ++=======----------------=
                        ####%#**###=-----=*####******++###****+                           +++========-------------==
                         #####%#*##########*******+**##******+                            *++++=========---------===
                           ####%#***##***********####****++*                               ++++++===========--======
                            #####%#***********####*****++                                    ++++++================
                              ######**########*******++                                         *++++=============+
                               ###########*********+                                            ++++++===========+
                                 ####************                                              *++++++++++====++++
                                   *********                                                    ++++++++++++++++
                                                                                                +++++++++++++++
                                                                                                 ++++++++++++
                                                                                                  ++++++++*
`;

export default async function Page({
  params,
}: {
  params: Promise<{ locale: string }>;
}) {
  const { locale } = await params;
  setStaticParamsLocale(locale);
  const t = await getScopedI18n("landing");
  const isArabic = locale === "ar";

  return (
    <Container className="py-16 h-screen flex flex-col items-center justify-center">
      <TopGrid />

      {/* Hero Content */}
      <div
        className={cn(
          "flex flex-col items-center justify-center text-center pb-24 md:pb-48 px-4 max-w-3xl mx-auto space-y-4",
          isArabic && "max-w-4xl"
        )}
      >
        <Badge>
          <IconInfoCircle />
          {t("badge")}
        </Badge>

        {/* Headline */}
        <h1 className={cn("leading-18", isArabic && "leading-20")}>
          {t("headline.prefix")}{" "}
          <span className="capitalize px-1 text-primary-foreground bg-primary rounded-md">
            {t("headline.highlight")}
          </span>{" "}
          {t("headline.suffix")}
        </h1>

        {/* Sub-headline */}
        <p className="text-pretty">{t("subheadline")}</p>

        {/* Who It's For */}
        <p className={"text-sm text-muted-foreground italic max-w-md"}>
          {t("whoItsFor")}
        </p>

        {/* Call to Action */}
        <div className="flex flex-col items-center gap-3 max-w-2xl w-full mt-4">
          <InputGroup className="bg-background w-full h-auto flex flex-col sm:flex-row sm:h-12 p-1.5 gap-2 sm:gap-0 sm:p-0 sm:ps-4 items-stretch sm:items-center">
            <InputGroupInput
              className="h-11 sm:h-auto px-2 sm:px-0"
              placeholder={t("cta.placeholder")}
            />
            <InputGroupAddon
              align="inline-end"
              className="w-full sm:w-auto p-0 sm:pe-3 me-0 sm:-me-2"
            >
              <Button size="xl" className="w-full sm:w-auto">
                {t("cta.button")}
                <IconSend />
              </Button>
            </InputGroupAddon>
          </InputGroup>
          <span className="text-sm text-muted-foreground  max-w-lg">
            {t("cta.hint")}
          </span>
        </div>
      </div>
      <pre
        className={cn(
          "select-none -z-10 absolute top-1/2 -translate-y-1/2 right-1/5 whitespace-pre mt-12 text-[4px] text-primary overflow-x-auto",
          isArabic && "right-auto left-1/5"
        )}
      >
        {ASCII}
      </pre>
    </Container>
  );
}
